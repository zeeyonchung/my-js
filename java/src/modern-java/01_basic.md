# Modern Java in Action

- 역서 코드 : http://www.hanbit.co.kr/src/10202
- 원서 코드 : https://www.manning.com/books/modern-java-in-action

---

## 기초
### Chapter 01. 자바 8, 9, 10, 11
  
- 동작 파라미터화 (behavior parameterization)  
    - 자바8 이전에는 메서드를 다른 메서드로 전달한 방법이 없었다. 자바8부터 코드를 인자로 넘길 수 있다.
    - 일급값(일급시민 first-class) : 전달할 수 있는 값

- 스트림 처리  
    - 스트림이란, 한 번에 한 개씩 만들어지는 연속적인 데이터 항목들의 모임
      
    - 스트림 API는 파이프라인을 만드는 데 필요한 메서드들을 제공한다.
    - 스트림 API의 핵심은 기존에 한 번에 한 항목을 처리했던 작업을 고수준으로 추상화해서 일련의 스트림으로 만들어 처리할 수 있다는 것이다.
    
    - 컬렉션에서는 for-each 루프를 이용해 각 요소를 반복하며 반복 과정을 직접 처리했다.
      컬렉션을 이용했을 때 거대한 리스트라면 처리 시간이 오래 걸릴 것이다. 멀티코어라면 여러 CPU 코어에 작업을 할당한다면 처리 시간을 줄일 수 있다. (최신 컴퓨터는 모두 멀티코어를 장착했다.)   
      이전 자바 버전에서는 스레드 API로 멀티스레딩 코드를 구현해서 병렬성을 이용하였다. 멀티스레딩 환경에서 각각의 스레드는 동시에 공유된 데이터에 접근하고 수정하므로 동시성 문제가 발생할 수 있다.
    - 스트림 파이프라인을 이용해서 입력 부분을 여러 CPU 코어에 쉽게 할당할 수 있다. 스레드라는 복잡한 작업을 사용하지 않으면서 병렬성을 얻을 수 있다.  
    ```
  // 순차 처리 방식
  inventory.stream().filter((Apple a) -> a.getWeight > 150)
                    .collect(Collectors.toList());
  
  // 병렬 처리 방식
  inventory.parallelStream().filter((Apple a) -> a.getWeight > 150)
                            .collect(Collectors.toList());
    ```
    
- 병렬성과 공유 가변 데이터
    - 스트림 메서드로 전달하는 코드는 다른 코드와 동시에 실행하더라도 안전하게 실행될 수 있어야 한다.
    - 공유된 가변 데이터에 접근하지 않아야 한다.
    
- 디폴트 메서드
    - 자바8 이전에는 인터페이스를 업데이트하면 해당 인터페이스를 구현하는 모든 클래스를 업데이트해야 했다. 자바8에서는 인터페이스를 쉽게 바꿀 수 있도록 디폴트 메서드를 지원한다.